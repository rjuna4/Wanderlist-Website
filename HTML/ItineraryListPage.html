<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel profile</title>

    <link rel="stylesheet" href="../CSS/ItineraryListPage.css">

    <script src="https://kit.fontawesome.com/b8452e11c5.js" crossorigin="anonymous"></script>
</head>

<body>
    <div id="navbar-container" async></div>
    <div class="header-wrapper">
        <h2>View all itineraries for your upcoming, current, and past trips here.</h2>
    </div>

    <div class="itinerary-categories">
        <div class="upcoming-trips">
            <h3 class="activity_title">My Upcoming Trips</h3>
            <!-- <div>
                <i class="fa fa-pencil" aria-hidden="true"></i>
            </div> -->
            <div class="activity_img_container">
                <img class="activity__img" src="../Images-Fonts/img12.jpg"/>
                <img class="activity__img" src="../Images-Fonts/img13.jpg"/>
            </div> 

        </div>

        <div class="current-trips">
            <h3 class="activity_title">My Current Trips</h3>
            <div class="activity_img_container">
                <img class="activity__img" src="../Images-Fonts/img12.jpg"/>
                <img class="activity__img" src="../Images-Fonts/img13.jpg"/>
            </div>

        </div>

        <div class="past-trips">
            <h3 class="activity_title">My Past Trips</h3>
            <div class="activity_img_container">
                <img class="activity__img" src="../Images-Fonts/img12.jpg"/>
                <img class="activity__img" src="../Images-Fonts/img13.jpg"/>
            </div>

        </div>
    </div>

</body>

<script src="../Javascript/loadHTML.js"></script>
<script src="../Javascript/GuestCheck.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    /*** User Browsing As Guest 
     * All URLs are updated for guests
     * To Show Specific Guest View ***/  
    loadHTML('../HTML/Navbar.html', 'navbar-container', function() {
        const urlParams = new URLSearchParams(window.location.search);
        const isGuest = urlParams.has('guest');

        if (isGuest) {
                    const navbarLinks = document.querySelectorAll('#navbar-container a');
                    const helloGuest = document.getElementById('hello-text');
                    
                    // Update Welcome Text
                    if (helloGuest) {
                        helloGuest.textContent = 'Hello, Guest';
                    }

                    // Update navbar links to include guest status
                    navbarLinks.forEach(link => {
                        const url = new URL(link.href);
                        if (!url.searchParams.has('guest')) {
                            url.searchParams.set('guest', 'true');
                            link.href = url.toString();
                        }
                    });
                }
        
        /*** Set Current Page As Active ***/
          const currentPath = window.location.pathname;
                document.querySelectorAll('#navbar-container a').forEach(link => {
                    if (link.href.includes(currentPath)) {
                        link.classList.add('active');
                    }
                });
      });
  });
</script>

</html>
